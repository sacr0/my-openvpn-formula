{% set map = salt['grains.filter_by']({
    'Debian': {
        'pkgs': ['openvpn'],
        'service': 'openvpn',
        'conf_dir': '/etc/openvpn',
        'dh_files': ['2048'],
        'user': 'nobody',
        'group': 'nogroup',
    },
    'Ubuntu': {
        'pkgs': ['openvpn'],
        'service': 'openvpn',
        'conf_dir': '/etc/openvpn',
        'dh_files': ['2048'],
        'user': 'nobody',
        'group': 'nogroup',
    },
    'Amazon': {
        'pkgs': ['openvpn'],
        'service': 'openvpn',
        'conf_dir': '/etc/openvpn',
        'dh_files': ['2048'],
        'user': 'nobody',
        'group': 'nobody',
    },
    'RedHat': {
        'pkgs': ['openvpn'],
        'service': 'openvpn@server',
        'conf_dir': '/etc/openvpn',
        'dh_files': ['2048'],
        'user': 'nobody',
        'group': 'nobody',
    },
    'CentOS': {
        'pkgs': ['openvpn'],
        'service': 'openvpn@server',
        'conf_dir': '/etc/openvpn',
        'dh_files': ['2048'],
        'user': 'nobody',
        'group': 'nobody',
    },
    'Arch': {
        'pkgs': ['openvpn', 'easy-rsa'],
        'service': 'openvpn-server@server',
        'conf_dir': '/etc/openvpn',
        'dh_files': ['2048'],
        'user': 'nobody',
        'group': 'nobody',
    },
}, grain='os_family', merge=salt['pillar.get']('openvpn:lookup')) %}
